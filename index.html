<html>
<head>
<!-- Load the d3 library. -->
<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<style>
body { font-family: "Open Sans"; }
svg { border: solid black 1px; }
.bar rect { fill: #ccc; }
.axis path { fill: none; stroke: black;}
.axis line { stroke: black; }
.axis text { font-size: x-small; }
.brush .extent {
  stroke: #fff;
  fill-opacity: .125;
  shape-rendering: crispEdges;
}

</style>
</head>
<body>

<h3>Boop</h3>


<div id="plot"></div>

<script>

    var chipotleData;
    var itemNames;

    d3.tsv("orders.tsv", function (error, rows) {
        //Store all data
        chipotleData = rows;

        var m = chipotleData.map( function(d) { return d.item_name; });
        //Stores distinct item names
        itemNames = d3.set(m).values().sort();

        //Generate a list of items
        var str = '<ul class="itemselect">';
        itemNames.forEach( function(d) {
            var pass = 'test(\''+d+'\')';
            str += '<li><a href="#" onclick="'+pass+'">'+d+'</a></li>';
            //console.log(str);
        });
        str += '</ul>';
        $('body').append(str);

    });

    //function to calculate ingredient %
    function ingredientPortion (item_name) {
        //returns array of % with ingredients as keys??
    } //END INGREDIENTPORTION 
    
    function test(item_name) {
        //Can pass item_name
        var div = '<div>'+item_name+'</div>';
        $('body').append(div);
    }

</script>

</body>
</html>